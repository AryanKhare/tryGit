utillity functions for version three.
these are the changes done in this file.